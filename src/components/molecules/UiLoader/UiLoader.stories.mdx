import {
  Meta, Canvas, Story, Props, ArgsTable,
} from '@storybook/addon-docs/blocks';
import UiLoader from './UiLoader.vue';
import UiControls from '../../organisms/UiControls/UiControls.vue'
import UiSearch from '../../organisms/UiSearch/UiSearch.vue'
import UiButton from '../../atoms/UiButton/UiButton.vue'

<Meta
  title="Molecules/Loader"
  component={UiLoader}
  argTypes={{
    isLoading: { control: { type: 'boolean' } },
  }}
/>

# Spinner

<Canvas>
  <Story
    name="Spinner common"
    args={{
      isLoading: true,
      loaderAttrs: {
        label: 'Analyzing your answers...',
      },
    }}
  >
    {((args, { argTypes }) => ({
      props: Object.keys(argTypes),
      components: { UiLoader, UiControls },
      template: `
        <UiControls
          style="max-width: 780px; min-height: 540px"
          toBack="/3-3"
          toNext="/5-4"
          :isAnswerAbove="true"
        >
          <UiLoader
            type="spinner"
            :is-loading="isLoading"
            :loaderAttrs="loaderAttrs"
          >
            I am loaded!
          </UiLoader>
        </UiControls>
      `,
    })).bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Spinner on dark"
    args={{
      isLoading: true,
      loaderAttrs: {
        class: 'ui-loader-spinner--on-dark',
      },
    }}
  >
    {((args, { argTypes }) => ({
      props: Object.keys(argTypes),
      components: { UiLoader },
      template: `
        <UiLoader
          :loaderAttrs="loaderAttrs"
          type="spinner"
          style="height: 100vh;"
          :is-loading="isLoading"
        />
      `,
    })).bind({})}
  </Story>
</Canvas>

# Skeleton

<Canvas>
  <Story
    name="Skeleton question"
    args={{
      isLoading: true,
    }}
  >
    {((args, { argTypes }) => ({
      props: Object.keys(argTypes),
      components: { UiLoader, UiControls },
      template: `
        <UiControls
          style="
            max-width: 780px; min-height: 540px;
            --controls-container-padding: 44px 20px 0 20px;
            --controls-container-tablet-padding: 76px 96px 0 76px;
          "
          toBack="/3-3"
          toNext="/5-4"
          :isAnswerAbove="true"
        >
          <UiLoader
            type="skeleton"
            :is-loading="isLoading"
          >
            <template #loader>
              <div
                class="ui-loader-skeleton__block ui-loader-skeleton__block--small"
              />
              <div
                class="ui-loader-skeleton__block ui-loader-skeleton__block--small"
                style="width: 75%;"
               />
              <div class="ui-loader-skeleton__block ui-loader-skeleton__block--large" />
            </template>
            I am loaded!
          </UiLoader>
        </UiControls>
      `,
    })).bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Skeleton dropdown"
    args={{
      isLoading: true,
    }}
  >
    {((args, { argTypes }) => ({
      props: Object.keys(argTypes),
      components: { UiLoader, UiSearch },
      template: `
        <label for="search-input-loader">
          <UiSearch
            text="Open dropdown with loader"
            :is-loading="true"
            style="max-width: 404px"
            :inputAttrs="{id: 'search-input-loader'}"
          >
            <template #loading>
              <UiLoader
                type="skeleton"
                :is-loading="isLoading"
              >
                <template #loader>
                  <div
                    class="ui-loader-skeleton__block ui-loader-skeleton__block--small"
                    style="
                      --loader-skeleton-block-small-margin: 0 0 var(--space-24) 0;
                      --loader-skeleton-block-small-tablet-margin: 0 0 var(--space-24) 0;
                      --loader-skeleton-block-small-tablet-height: 0.75rem;
                    "
                  />
                  <div
                    class="ui-loader-skeleton__block ui-loader-skeleton__block--small"
                    style="
                      width: 50%;
                      --loader-skeleton-block-small-margin: 0 0 var(--space-24) 0;
                      --loader-skeleton-block-small-tablet-margin: 0 0 var(--space-24) 0;
                      --loader-skeleton-block-small-tablet-height: 0.75rem;
                    "
                  />
                  <div
                    class="ui-loader-skeleton__block ui-loader-skeleton__block--small"
                    style="
                      width: 75%;
                      --loader-skeleton-block-small-margin: 0 0 var(--space-24) 0;
                      --loader-skeleton-block-small-tablet-margin: 0 0 var(--space-24) 0;
                      --loader-skeleton-block-small-tablet-height: 0.75rem;
                    "
                  />
                  <div
                    class="ui-loader-skeleton__block ui-loader-skeleton__block--small"
                    style="
                      width: 50%;
                      --loader-skeleton-block-small-margin: 0;
                      --loader-skeleton-block-small-tablet-margin: 0;
                      --loader-skeleton-block-small-tablet-height: 0.75rem;
                    "
                  />
                </template>
              </UiLoader>
            </template>
          </UiSearch>
        </label>
      `,
    })).bind({})}
  </Story>
</Canvas>

# Ellipsis

<Canvas>
  <Story
    name="Ellipsis common"
    args={{
      isLoading: true,
    }}
  >
    {((args, { argTypes }) => ({
      props: Object.keys(argTypes),
      components: { UiLoader, UiButton },
      template: `
        <UiButton>
          <UiLoader
            type="ellipsis"
            :is-loading="isLoading"
          >
            I am loaded!
          </UiLoader>
        </UiButton>
      `,
    })).bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Ellipsis visual hidden"
    args={{
      isLoading: true,
    }}
  >
    {((args, { argTypes }) => ({
      props: Object.keys(argTypes),
      components: { UiLoader, UiButton },
      template: `
        <UiButton>
          <div :class="{'visual-hidden': isLoading}">I am loaded</div>
          <UiLoader
            type="ellipsis"
            :is-loading="isLoading"
          />
        </UiButton>
      `,
    })).bind({})}
  </Story>
</Canvas>

<ArgsTable story='Common' />

# Props

<Props of={UiLoader} />

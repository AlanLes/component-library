import {
  Meta, Canvas, Story, Props, ArgsTable,
} from '@storybook/addon-docs/blocks';
import UiFormField from './UiFormField.vue';
import UiInput from '../../atoms/UiInput/UiInput.vue';
import UiTextArea from '../../atoms/UiTextArea/UiTextArea.vue';
import UiCheckbox from '../../atoms/UiCheckbox/UiCheckbox.vue';
import UiLink from '../../atoms/UiLink/UiLink.vue';
import UiText from '../../atoms/UiText/UiText.vue';

<Meta
  title="Molecules/FormField"
  component={UiFormField}
  argTypes={{
    label: { control: { type: 'text' } },
    hint: { control: { type: 'text' } },
    placeholderText: { control: { type: 'text' } },
    id: { control: { type: 'text' } },
    disabled: { control: { type: 'boolean' } },
    hasError: { control: { type: 'boolean' } },
    errorMessage: { control: { type: 'text' } },
    inputType: { control: { type: 'select', options: ['text', 'number', 'email', 'search', 'tel', 'url', 'password'] } },
    checked: { control: { type: 'boolean' } },
  }}
/>

# FormField

## Common with input
<Canvas>
  <Story
    name="[slot] input"
    args={{
      label: 'Enter name',
      errorMessage: 'Alert message',
      hint: 'Required',
      id: 'inputId',
      placeholderText: 'Placeholder text',
      disabled: false,
      hasError: false,
    }}
  >
    {((args, { argTypes }) => ({
      props: Object.keys(argTypes),
      components: { UiFormField, UiInput },
      template: `
        <UiFormField
          style="width:400px"
          :id="id"
          :label="label"
          :hint="hint"
          :errorMessage="hasError && errorMessage"
        >
          <template #default="{id}">
            <UiInput
              :type="inputType"
              :class="{
                'ui-input--is-disabled': disabled,
                'ui-input--has-error': hasError
              }"
              :id="id"
              :placeholder="placeholderText"
            />
          </template>
        </UiFormField>`,
    })).bind({})}
  </Story>
</Canvas>

## Custom label with input
<Canvas>
  <Story
    name="[slot] input [slot] label"
    args={{
      label: 'Custom label',
      errorMessage: 'Alert message',
      hint: 'Required',
      id: 'inputId',
      placeholderText: 'Placeholder text',
      disabled: false,
      hasError: false,
    }}
  >
    {((args, { argTypes }) => ({
      props: Object.keys(argTypes),
      components: { UiFormField, UiInput, UiText },
      template: `
        <UiFormField
          style="width:400px"
          :id="id"
          :label="label"
          :hint="hint"
          :errorMessage="hasError && errorMessage"
        >
          <template #label={id}>
            <UiText
              class="ui-form-field__label-text"
              tag="label"
              style="color: green;"
              :for="id"
            >
              {{label}}
            </UiText>
          </template>
          <template #default="{id}">
            <UiInput
              :type="inputType"
              :class="{
                'ui-input--is-disabled': disabled,
                'ui-input--has-error': hasError
              }"
              :id="id"
              :placeholder="placeholderText"
            />
          </template>
        </UiFormField>`,
    })).bind({})}
  </Story>
</Canvas>

## Common with textarea
<Canvas>
  <Story
    name="with Textarea [slot] input"
    args={{
      label: 'Enter name',
      errorMessage: 'Alert message',
      hint: 'Required',
      id: 'inputId',
      placeholderText: 'Placeholder text',
      disabled: false,
      hasError: false,
    }}
  >
    {((args, { argTypes }) => ({
      props: Object.keys(argTypes),
      components: { UiFormField, UiTextArea },
      template: `
        <UiFormField
          style="width:400px"
          :id="id"
          :label="label"
          :hint="hint"
          :errorMessage="hasError && errorMessage"
        >
          <template #default="{id}">
            <UiTextArea
              :disabled="disabled"
              :class="{
                'ui-textarea--is-disabled': disabled,
                'ui-textarea--has-error': hasError
              }"
              :id="id"
              :placeholder="placeholderText"
            />
          </template>
        </UiFormField>`,
    })).bind({})}
  </Story>
</Canvas>

## Custom with checkbox
<Canvas>
  <Story
    name="with checkbox [slot] input"
    args={{
      errorMessage: 'Alert message',
      hint: 'Required',
      id: 'inputId',
      disabled: false,
      hasError: false,
    }}
  >
    {((args, { argTypes }) => ({
      props: Object.keys(argTypes),
      components: {
        UiFormField, UiCheckbox, UiLink, UiText,
      },
      template: `
        <UiFormField
          :errorMessage="hasError && errorMessage"
          :hint="hint"
        >
         <UiCheckbox
            v-model="checked"
            :id="id"
            :disabled="disabled"
            :class="{
              'ui-checkbox--is-disabled': disabled,
              'ui-checkbox--has-error': hasError
            }"
          >
          <template #label>
            <UiText
              class="ui-form-field__label-text"
              style="--form-field-label-text-margin: 0;"
            >
              I read and accept
              <UiLink
                tag="span"
                target="_blank"
                style="--link-color: var(--color-text-link-primary);"
                href="https://infermedica.com/"
              >
                Terms of Service
              </UiLink>
                and
              <UiLink
                tag="span"
                style="--link-color: var(--color-text-link-primary);"
                href="https://infermedica.com/"
              >
                Privacy Policy
              </UiLink>
              .
            </UiText>
          </template>
          </UiCheckbox>
        </UiFormField>`,
    })).bind({})}
  </Story>
</Canvas>

<ArgsTable story='Common' />

# Props

<Props of={UiFormField} />

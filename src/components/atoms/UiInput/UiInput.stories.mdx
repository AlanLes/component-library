import { Meta, Canvas, Story, Props, ArgsTable } from '@storybook/addon-docs/blocks';
import UiInput from './UiInput.vue';
import UiIcon from '../UiIcon/UiIcon.vue';


<Meta
  title="Atoms/Input"
  component={UiInput}
  argTypes={{
    disabled: {control: {type: 'boolean'}},
    suffix: {control: {type: 'text'}},
    placeholder: {control: {type: 'text'}},
    type: {control: {type: 'select', options: ['text', 'number', 'email', 'search', 'tel', 'url', 'password']}},
    cssClass: {control: {type: 'inline-check', options: {
      'ui-input--is-disabled': 'ui-input--is-disabled',
      'ui-input--has-error': 'ui-input--has-error'
    }}},
  }}
/>

# Input

This component should support native attributes. [MDN web docs](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input)

## Common
<Canvas>
  <Story
    name="Common"
    args={{
      suffix: '',
      placeholder: 'Search, e.g. headache',
      type: 'text',
    }}
  >
    {((args, {argTypes}) => ({
      props: Object.keys(argTypes).filter((key) => (key !== 'value')),
      components: { UiInput },
      data() {
        return {
          value: '',
        }
      },
      template: `<UiInput
        v-model="value"
        :suffix="suffix"
        :type="type"
        :disabled="disabled"
        :placeholder="placeholder"
        :class="cssClass"
        style="width:400px"
      />`
    })).bind({})}
  </Story>
</Canvas>

<ArgsTable story='Common' />

## With text suffix
Use `suffix` props to set text suffix

<Canvas>
  <Story
    name="with suffix"
    args={{
      suffix: 'cm',
      placeholder: 'Search, e.g. headache',
      type: 'text',
    }}
  >
    {((args, {argTypes}) => ({
      props: Object.keys(argTypes).filter((key) => (key !== 'value')),
      components: { UiInput },
      data() {
        return {
          value: '',
        }
      },
      template: `<UiInput
        v-model="value"
        :suffix="suffix"
        :type="type"
        :disabled="disabled"
        :placeholder="placeholder"
        :class="cssClass"
        style="width:400px"
      />`
    })).bind({})}
  </Story>
</Canvas>

## With icon suffix
Use `aside` slot to replace aside template

<Canvas>
  <Story
    name="[slot] aside"
    args={{
      suffix: 'cm',
      placeholder: 'Search, e.g. headache',
      type: 'text',
      icon: 'search'
    }}
  >
    {((args, {argTypes}) => ({
      props: Object.keys(argTypes).filter((key) => (key !== 'value')),
      components: { UiInput, UiIcon },
      data() {
        return {
          value: '',
        }
      },
      template: `<UiInput
        v-model="value"
        :suffix="suffix"
        :type="type"
        :disabled="disabled"
        :placeholder="placeholder"
        :class="cssClass"
        class="ui-input--has-icon"
        style="width:400px"
      >
        <template #aside>
          <UiIcon
            :icon="icon"
            class="ui-input__aside"
          />
        </template>
      </UiInput>`,
      methods: {
        clear(){
          this.value = '';
        }
      }
    })).bind({})}
  </Story>
</Canvas>

# Props

<Props of={UiInput} />
